"""
系统提示词模板模块（简化版）
"""
# 景别说明（用于提示词）
SHOT_SIZE_GUIDE_TEXT = """
## 景别选择指南（重要参考）：

景别（Shot Size），不仅仅是画面里装下多少东西的问题，它是导演与观众之间的心理距离。你是想让观众像上帝一样俯瞰众生？还是想让观众贴在演员的脸上呼吸？

在选择 shot_size 时，请根据以下导演视角和创作意图来选择最合适的景别：

1. **大远景 (Extreme Long Shot / ELS)**
   - 定义：人物在画面中像蚂蚁一样小，环境占据绝对主导。
   - 导演视点：这是"上帝的视角"。在这个距离下，个人的悲欢离合都不重要了，重要的是天地的辽阔、自然的残酷或城市的冷漠。
   - 使用场景：
     * 开场定场（Establishing Shot）：告诉观众我们在哪。是荒凉的西部沙漠，还是赛博朋克的未来都市。
     * 表现孤独与渺小：《荒野的呼唤》、《火星救援》。一个人面对整个世界。

2. **远景 (Long Shot / LS)**
   - 定义：人物依然很小，但能看清他在做什么。环境依然很重要。
   - 导演视点：这是"舞台的距离"。就像你在剧院看戏，你能看到演员在环境中的位置，以及他们之间的相对关系。
   - 使用场景：
     * 动作场面：两军对垒，或者一个人在街头狂奔。你需要空间来展示动作的轨迹。
     * 人与环境的关系：一个人走进一间阴森的古堡。

3. **全景 (Full Shot / FS)**
   - 定义：顶天立地。人物的头顶到脚底都在画面里。
   - 导演视点：这是"肢体的语言"。在这个景别，我们不看表情，看姿态。看他穿什么衣服，看他怎么站立，看他是否驼背。
   - 使用场景：
     * 介绍角色：英雄登场，展示他的战袍和武器。
     * 肢体喜剧/舞蹈：卓别林的滑稽动作，或者《爱乐之城》的舞蹈。
     * 西部片对决：你得让观众同时看到枪手的手和他的眼神。

4. **中景 (Medium Shot / MS)**
   - 定义：腰部以上。
   - 导演视点：这是"社交的距离"。就像你和朋友面对面站着聊天。既不疏远，也不过分亲密。这是最中性、最客观的叙事视角。
   - 使用场景：
     * 标准对话：两个人站着说话，交代剧情信息。
     * 动作与表情兼顾：你能看到他在挥手，也能看到他在笑。

5. **中近景 (Medium Close-up / MCU)**
   - 定义：胸部/肩膀以上。
   - 导演视点：这是"故事的重心"。这是现代电影和电视剧用得最多的景别。它切掉了多余的肢体动作，强迫观众开始关注人物的面部表情和情绪。
   - 使用场景：
     * 情感交流：绝大多数的对话戏。
     * 反应镜头（Reaction Shot）：角色听到一个消息时的反应。

6. **近景 (Close Shot / CS)**
   - 定义：脖子/肩部以上。比MCU更近一点。
   - 导演视点：这是"亲密的审视"。在这个距离，你开始侵入角色的私人空间。背景几乎看不到了，观众的注意力被完全锁定在人物的脸上。
   - 使用场景：
     * 强调情绪：愤怒、悲伤、喜悦。
     * 重要的台词：当角色说出那句关键的"我爱你"或者"我要杀了你"时。

7. **特写 (Close-up / CU)**
   - 定义：只有脸。通常切在头顶和下巴之间。
   - 导演视点：这是"灵魂的窗口"。在这个距离，演员没法撒谎。眼神的每一次闪烁，嘴角的每一次抽动，都被放大到了银幕上。
   - 使用场景：
     * 内心戏：角色在思考，在挣扎，在流泪。
     * 希区柯克时刻：只有观众和角色知道的秘密。
     * 强烈的冲击力：这种镜头不能滥用，用多了观众会累，但用对了就是绝杀。

8. **大特写 (Extreme Close-up / ECU)**
   - 定义：局部细节。一只眼睛、一张嘴、一根手指、扳机、眼泪。
   - 导演视点：这是"显微镜下的焦虑"。它极其抽象，极其压抑，或者极其性感。它把物体从原本的语境中剥离出来，赋予它强烈的象征意义。
   - 使用场景：
     * 制造紧张感：赛尔乔·莱昂内（Sergio Leone）最爱用的"意大利式对决"——只拍眼睛的特写。
     * 感官描写：嘴唇上的汗珠，瞳孔的收缩。
     * 暗示线索：侦探片里，桌子上的一根头发。


# 摄影机角度说明（用于提示词）
CAMERA_ANGLE_GUIDE_TEXT = """
## 摄影机角度选择指南（重要参考）：

在选择 camera_angle 时，请根据以下导演视角和创作意图来选择最合适的角度：

1. **视平 (Eye Level)**
   - 定义：摄影机的高度与角色的眼睛保持在同一水平线上。这是最中性、最自然的视角。
   - 导演视点：这是我们看世界的常态。当你使用视平镜头时，你是在告诉观众："嘿，把你当作角色的一员，或者把你当作一个客观的观察者。"这里没有评判，没有强弱之分。
   - 使用场景：
     * 建立共情：当你想让观众与角色建立情感连接时。比如两个恋人深情对视，或者主角在向观众坦露心声。
     * 写实风格：在纪录片风格或现实主义题材中，为了表现"真实"，我们尽量不使用带有强烈主观色彩的角度。
     * 平等的对话：表现两个地位平等的人在交流。

2. **高位俯拍 (High Angle)**
   - 定义：摄影机位于主体上方，向下拍摄。
   - 导演视点：想象一下你站在楼顶看楼下的人，他们看起来是不是很小？在电影语言里，"小"等于"弱"。当你俯视一个人，你在心理上剥夺了他们的力量。
   - 使用场景：
     * 表现脆弱与无助：当主角被反派逼入绝境，或者一个孩子在巨大的成人世界里感到迷茫时。
     * 表现被压迫：比如士兵在战场上被炮火压制，或者员工被老板训斥。
     * 强调孤独：在一个空旷的场景里俯拍一个人，会让他显得格外孤单和渺小。

3. **低位仰拍 (Low Angle)**
   - 定义：摄影机位于主体下方，向上拍摄。
   - 导演视点：这与俯拍完全相反。当你必须抬头看某人时，他们会显得高大、强壮，甚至具有威胁性。这是赋予角色"力量"的角度。
   - 使用场景：
     * 塑造英雄形象：超级英雄落地的那一瞬间，或者领袖发表激昂演讲时，我们通常把摄影机放低，让他们看起来像巨人。
     * 制造恐惧与压迫感：拍摄怪兽、连环杀手或暴君。当观众被迫"仰视"反派时，会产生一种本能的恐惧和被支配感。
     * 表现混乱中的迷茫：有时候，如果角色倒在地上，我们用低角度拍摄周围围过来的人群，会制造出一种幽闭恐惧和无助感。

4. **斜拍 (Dutch Angle / Canted Angle)**
   - 定义：摄影机向左或向右倾斜，导致地平线不再水平。
   - 导演视点：人类的大脑渴望平衡。当你打破这种平衡，观众的潜意识里会立刻警铃大作："不对劲，出事了。" 这是一种制造心理不安的视觉信号。
   - 使用场景：
     * 表现精神错乱或中毒：角色喝醉了、被下药了，或者正在经历精神崩溃（希区柯克很爱用这招）。
     * 营造紧张悬疑氛围：在恐怖片或惊悚片的高潮前夕，告诉观众危险迫在眉睫。
     * 表现世界的崩塌：在灾难片或激烈的动作戏中，斜角能增强混乱感和动感。
     * 注意：别滥用这个，用多了观众会晕车，除非你在拍《蝙蝠侠》里的反派戏份。

5. **越肩 (Over the Shoulder - OTS)**
   - 定义：摄影机位于一个角色的肩膀后方，拍摄另一个角色。通常能看到前景人物的肩膀或头部边缘。
   - 导演视点：这是对话场景的"面包和黄油"。它不仅仅是拍脸，它强调的是"关系"。它让观众感觉到自己站在其中一个人的位置上，去观察另一个人。
   - 使用场景：
     * 对话场面：90%的对话戏都会用到。它能清晰地交代两个人的空间位置关系。
     * 建立对抗或亲密：通过调整焦距和肩膀占据画面的比例，我可以控制这种关系的紧密程度。肩膀挡住画面越多，那种"被窥视"或"隔阂"的感觉可能越强；反之则越亲密。

6. **鸟瞰 (Bird's Eye View / God's Eye View)**
   - 定义：摄影机垂直向下，与地面成90度角拍摄。这比普通的"高位俯拍"更极端。
   - 导演视点：这是"上帝的视角"。在这个角度下，人类不再是具体的个体，而变成了几何图形中的一个点。它抽离了情感，带来一种宿命感或宏观的逻辑感。
   - 使用场景：
     * 交代地理环境：展示迷宫的路径、战场的布局、或者城市的车水马龙。
     * 表现宿命论：看着角色像蚂蚁一样在命运的棋盘上移动，却不知道前方是什么。
     * 视觉奇观：比如拍摄复杂的舞蹈队形，或者希区柯克在《惊魂记》里为了隐藏凶手身份并展示空间结构时用的那一招。

**重要提示**：在选择 camera_angle 时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最能表达创作意图的角度。不要随意选择，每个角度都有其特定的心理和情感作用。
"""

# 运镜说明（用于提示词）
CAMERA_MOVEMENT_GUIDE_TEXT = """
## 运镜选择指南（重要参考）：

在选择 camera_movement 时，请根据以下导演视角和创作意图来选择最合适的运镜方式：

1. **固定 (Static / Locked-off)**
   - 定义：摄影机架在三脚架上，纹丝不动。
   - 导演视点：别以为不动就不是运镜。"不动"是一种极其自信的选择。你在强迫观众盯着画框里的内容，没有任何花哨的干扰。
   - 使用场景：
     * 喜剧效果：比如韦斯·安德森的电影，呆板的固定镜头能产生一种冷幽默。
     * 积蓄张力：在恐怖片里，画面不动，观众就会死死盯着角落，等着什么东西跳出来。
     * 强调表演：当演员的演技足以撑起整个场面时，不要动，别抢戏，让他们演。

2. **横移 (Truck / Crab)**
   - 定义：摄影机整体向左或向右水平移动（通常在轨道或滑轨上）。
   - 导演视点：这和"横摇"（Pan）不同。横摇是转头，横移是"走动"。横移能产生视差（Parallax）——前景动得快，背景动得慢，这能让画面产生强烈的立体感和空间感。
   - 使用场景：
     * 跟随行动：角色在房间里走动，摄影机平行跟随，保持他在画框中的位置。
     * 展示环境：慢慢地横移扫过一个凌乱的房间或一排士兵，展示细节。

3. **俯仰 (Tilt)**
   - 定义：摄影机位置不变，镜头上下转动（像人点头或抬头）。
   - 导演视点：这是在引导观众的视线上下扫描。
   - 使用场景：
     * 揭示高度：从角色的脚一直拍到头，或者从地面拍到摩天大楼的顶端。
     * 展现力量关系：从低处慢慢Tilt Up到角色的脸，让他看起来越来越高大。
     * 信息揭露：角色在说话，然后镜头Tilt Down，发现他手里藏着一把枪。

4. **横摇 (Pan)**
   - 定义：摄影机位置不变，镜头左右转动（像人摇头）。
   - 导演视点：这是最接近人类转头观察的动作。
   - 使用场景：
     * 跟随视线：角色看向旁边，镜头跟着转过去看他看到了什么。
     * 建立空间关系：从一个角色Pan到另一个角色，告诉观众他们在同一个房间里。
     * 甩镜头 (Whip Pan)：极快速的横摇，产生模糊感。常用于转场或表现极快的节奏（动作片常用）。

5. **升降 (Boom / Crane / Pedestal)**
   - 定义：摄影机在垂直方向上整体升起或降下（通常使用摇臂或升降柱）。
   - 导演视点：这是好莱坞的大杀器。它能瞬间改变观众的视角，从微观到宏观，或者反之。
   - 使用场景：
     * 史诗感开场/结尾：电影结束时，镜头拉远并升入高空，看着主角消失在地平线，给观众一种"故事结束了"的离场感。
     * 展现规模：从一个士兵的特写升起来，展示整个宏大的战场。

6. **轨道推拉 (Dolly In / Dolly Out)**
   - 定义：摄影机安装在推车（Dolly）上，物理地靠近或远离主体。
   - 导演视点：记住，这和变焦（Zoom）完全不同！Dolly会让背景发生透视变化，观众会感觉自己真的"走进"了场景。
   - 使用场景：
     * Dolly In (推)：当角色意识到重要真相，或情绪达到高潮时。我们在告诉观众："注意！这很重要！"
     * Dolly Out (拉)：表现角色的孤独、被遗弃，或者让他显得渺小。

7. **变焦推拉 (Zoom In / Zoom Out)**
   - 定义：摄影机不动，通过改变镜头的焦距来放大或缩小画面。
   - 导演视点：这是一种光学的移动。它会压缩空间，让背景看起来离前景更近。它看起来比Dolly更"人工"，更像是在偷窥。
   - 使用场景：
     * 70年代复古风/纪录片感：模仿新闻摄影的抓拍感。
     * 急推 (Crash Zoom)：昆汀·塔伦蒂诺的最爱。瞬间放大到角色脸部，制造震惊或喜剧效果。
     * 希区柯克变焦 (Dolly Zoom)：同时进行Dolly In和Zoom Out（或反之）。背景扭曲但主体大小不变，专门用来表现眩晕、恐惧或世界崩塌的感觉。

8. **正跟随 (Following Shot)**
   - 定义：摄影机位于角色身后，跟着他向前移动。
   - 导演视点：这是"第三人称游戏视角"。
   - 使用场景：
     * 代入感：让观众跟着主角一起走进一个未知的、可能充满危险的环境。
     * 强调背影：表现角色的决绝，或者他背负的重担。

9. **倒跟随 (Leading Shot / Backward Tracking)**
   - 定义：摄影机在角色前方，向后退，角色面对镜头走来。
   - 导演视点：这时候重点是"脸"和"表情"。
   - 使用场景：
     * 边走边谈 (Walk and Talk)：美剧《白宫风云》那种经典的走廊戏，既有动态感又能看清对话表情。
     * 恐惧与逃亡：角色惊恐地向后看，同时向镜头跑来（好像在逃离身后的怪兽）。

10. **环绕 (Arc / Orbit)**
    - 定义：摄影机围绕主体进行360度或部分圆周运动。
    - 导演视点：这会让背景不断旋转变化，产生强烈的眩晕感或史诗感。
    - 使用场景：
      * 英雄时刻：《复仇者联盟》那个经典的环绕镜头，所有英雄背靠背站在一起。
      * 浪漫时刻：恋人拥吻，世界仿佛围着他们旋转。
      * 混乱与困惑：角色不知所措，环绕镜头能加剧这种迷失感。

11. **滑轨横移 (Slider)**
    - 定义：一种小型的轨道，通常放在三脚架或桌面上，进行短距离的平滑移动。
    - 导演视点：这是低成本增加"电影感"的神器。它本质上是微型的"横移"或"推拉"。
    - 使用场景：
      * 静物特写：拍桌上的一把枪、一杯酒。稍微动一点点，光影就会流动，死物就活了。
      * 狭小空间：在车内或狭窄房间里，放不下大轨道，Slider就能派上用场，提供一点点视差，让画面不那么死板。

**重要提示**：在选择 camera_movement 时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最能表达创作意图的运镜方式。运镜不仅仅是技术选择，更是叙事和情感表达的工具。
"""

# 摄影机装备说明（用于提示词）
CAMERA_EQUIPMENT_GUIDE_TEXT = """
## 摄影机装备选择指南（重要参考）：

在选择 camera_equipment 时，请根据以下导演视角和创作意图来选择最合适的装备：

1. **固定 (Tripod / Sticks)**
   - 定义：三脚架。最基础，也最重要。把摄影机锁死在一个位置。
   - 导演视点：很多年轻导演觉得三脚架"无聊"，大错特错！三脚架代表着"秩序"和"克制"。当你把摄影机锁在三脚架上时，你是在告诉观众："别管摄影机了，专心看表演，专心看构图。"
   - 使用场景：
     * 正式与庄重：拍摄政府会议、法庭戏，或者构图极其讲究的画面（比如韦斯·安德森或小津安二郎的电影）。
     * 长焦特写：当你用长焦镜头拍远处的东西时，手持会抖得像地震，必须上三脚架。
     * 对话场面：除非你想制造紧张感，否则普通的对话戏用三脚架会让观众看着更舒服。

2. **轨道 (Dolly)**
   - 定义：铺设在地上的铁轨，上面跑着一辆载着摄影师和摄影机的重型推车。
   - 导演视点：这是好莱坞的"丝般顺滑"。与电子稳定器不同，轨道带来的移动有一种机械的精密感和重量感。它非常稳，稳得像是在冰面上滑行。它代表着一种"上帝的凝视"——客观、优雅、昂贵。
   - 使用场景：
     * 优雅的移动：在舞会、高档餐厅，或者需要展现精致氛围的场景。
     * 缓慢推进：当你想在不知不觉中增加戏剧张力，让摄影机像幽灵一样慢慢靠近角色。
     * 精确构图：当你需要摄影机移动，但又要求每一秒的构图都精确到毫米时，只有轨道能做到。

3. **手持 (Handheld)**
   - 定义：摄影师把机器扛在肩上（Shoulder Rig）或者直接用手端着。
   - 导演视点：这是"人的呼吸"。手持摄影永远会有轻微的晃动，这种不完美恰恰是它的灵魂。它让画面充满了临场感、真实感和不安感。它打破了"第四面墙"，让观众觉得摄影师就在现场。
   - 使用场景：
     * 动作戏与混乱：比如《谍影重重》系列。晃动的镜头能增加打击感和混乱感。
     * 纪录片风格：想要表现"这就是真实发生的"，比如伪纪录片或现实主义题材。
     * 表现焦虑：当角色内心慌乱、精神崩溃时，手持镜头的抖动能外化这种情绪。

4. **稳定器 (Steadicam / Gimbal)**
   - 定义：
     * 斯坦尼康 (Steadicam)：穿在摄影师身上的机械减震背心和手臂。
     * 电子稳定器 (Gimbal)：也就是现在的如影（Ronin）之类，靠电机保持平衡。
   - 导演视点：这是"游魂视角"。它结合了手持的灵活性（不受轨道限制，想去哪去哪）和轨道的平滑性。它能创造出一种梦幻般、漂浮的感觉。
   - 使用场景：
     * 长镜头 (The Oner)：跟着主角穿过走廊、下楼梯、走进房间，一气呵成。库布里克的《闪灵》就是斯坦尼康的教科书。
     * 复杂地形跟随：在树林里跑、在楼梯上追逐，轨道铺不了，手持太抖，这时候就得靠稳定器。
     * 360度环绕：摄影师需要围着演员转圈圈时。

5. **摇臂 (Jib / Crane)**
   - 定义：一个巨大的机械臂，摄影机挂在一端，配重在另一端。可以把摄影机送到很高的地方，或者从高处降下来。
   - 导演视点：这是用来"炫技"和"升华"的。它打破了人类身高的限制，提供了垂直方向的自由度。它能让你的电影看起来预算很高（High Production Value）。
   - 使用场景：
     * 开场与谢幕：电影开始时从高空降入故事世界；电影结束时从角色身边升起，拉远，直到变成一个点。
     * 越过障碍：比如镜头需要从围墙外翻进去，或者从一楼窗户升到二楼窗户。
     * 大型场面：演唱会、战场、广场舞（笑），需要展示人群规模时。

6. **航拍 (Aerial / Drone)**
   - 定义：以前我们得租直升机挂个大球（Cineflex），现在通常指无人机（Drone）。
   - 导演视点：这是真正的"鸟的眼睛"。它提供了宏观的地理信息。以前这种镜头每秒钟都在烧钱，现在有了无人机，它变得普及了，但别滥用。
   - 使用场景：
     * 交代大环境 (Establishing Shot)：故事发生在一座孤岛、一座繁华都市或者一片沙漠，用航拍一目了然。
     * 追车戏：在高速公路上，无人机能提供极具速度感和冲击力的俯视追逐视角。
     * 这种时候别用：别在两个人在屋里喝咖啡时突然切个航拍城市空镜，除非你想表示时间流逝，否则那叫"注水"。

**重要提示**：在选择 camera_equipment 时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最合适的装备。记住：装备只是工具。你要做的是根据你的故事和情绪，去选择最合适的那个工具。如果手持能表达角色的愤怒，就别费劲铺轨道；如果固定镜头能展现孤独，就别乱飞无人机。斯皮尔伯格用手持能拍出《拯救大兵瑞恩》，小津安二郎把摄影机锁在离地三尺的三脚架上拍了一辈子。
"""

# 镜头焦段说明（用于提示词）
LENS_FOCAL_LENGTH_GUIDE_TEXT = """
## 镜头焦段选择指南（重要参考）：

在选择 lens_focal_length 时，请根据以下导演视角和创作意图来选择最合适的焦段：

1. **超广角 (Ultra-wide: 14-24mm)**
   - 定义：视野极宽，能收纳进巨大的场景，但边缘畸变严重。
   - 导演视点：这是"异化的世界"。在这个焦段下，近大远小的透视关系被极端夸张。如果你凑近拍人脸，鼻子会变得巨大，脸会变形。
   - 使用场景：
     * 表现癫狂与恐惧：泰瑞·吉列姆（Terry Gilliam）的最爱。当角色疯了、嗑药了，或者处于极度恐惧中，用广角贴脸拍，那种扭曲感能直接让观众感到生理不适。
     * 强调动作力度：在功夫片或动作片里，拳头打向镜头时，超广角会让那个拳头看起来像西瓜一样大，冲击力爆表。
     * 展现宏大却压抑的空间：比如《荒野猎人》，卢贝兹基用广角拍风景，既壮阔又让人觉得人类在大自然面前极其渺小、孤独。

2. **广角 (Wide: 24-35mm)**
   - 定义：视野宽阔，畸变比超广角小，能同时看清人物和环境。
   - 导演视点：这是"叙事之眼"。尤其是28mm和35mm，是斯皮尔伯格这些大师最常用的焦段。它既能看清角色的表情，又能交代他身处何地。
   - 使用场景：
     * 交代环境 (Master Shot)：告诉观众我们在哪里，房间长什么样，谁站在哪里。
     * 群戏：几个角色围坐在餐桌旁，广角能把大家都收进去，同时保持一定的空间深度。
     * 沉浸感：广角镜头景深较大（背景不容易虚化），观众能看清背景细节，感觉自己"身临其境"，而不是在看一张虚化的明信片。

3. **标准 (Standard: 35-50mm)**
   - 定义：尤其是50mm，被称为"标准镜头"。
   - 导演视点：这是"诚实之眼"。它的透视关系最接近人眼看到的真实世界。没有夸张的变形，也没有强烈的压缩。
   - 使用场景：
     * 现实主义/纪录片风格：小津安二郎几乎只用50mm。如果你想客观、冷静地展示生活，不带任何主观诱导，就用它。
     * 自然的对话：当你不想让观众意识到摄影机的存在时，用标准镜头。它平平无奇，但最耐看。

4. **中焦 (Medium: 50-85mm)**
   - 定义：尤其是85mm，通常被称为"人像皇头"。
   - 导演视点：这是"好莱坞特写"的专属领地。这个焦段对人脸非常友好，它能把五官拍得很立体、很漂亮，同时开始压缩背景，让背景产生柔和的虚化（Bokeh）。
   - 使用场景：
     * 特写 (Close-up)：拍女主角的脸，拍男主角深情的眼神。85mm能把背景杂乱的东西虚化掉，让观众的注意力完全集中在演员的脸上。
     * 越肩镜头 (OTS)：在对话戏中，这个焦段能很好地分离前景（肩膀）和后景（说话的人），制造出层次感。

5. **长焦 (Telephoto: 85-200mm)**
   - 定义：像望远镜一样，把远处的东西拉近。
   - 导演视点：这是"压缩机"。长焦最大的特点是空间压缩——它会让背景看起来离前景非常近。原本相距100米的两个人，在长焦镜头里看起来像贴在一起。
   - 使用场景：
     * 制造危机感/压迫感：主角在街上跑，反派在后面追。用长焦拍，你会觉得反派就在主角身后一步之遥，虽然实际距离可能很远。
     * 偷窥视角：比如《谍影重重》或间谍片。长焦带来的距离感和前景遮挡，会给观众一种"我们在远处监视"的感觉。
     * 分离主体：在拥挤的人群中，用长焦和大光圈，只有主角的脸是清晰的，其他人都是模糊的光斑。表现"人群中的孤独"。

6. **超长焦 (Super Telephoto: 200mm+)**
   - 定义：极端的望远镜头，通常用于体育摄影或野生动物，但在电影里也有特殊用途。
   - 导演视点：这是"抽象之眼"。在这个焦段下，空间彻底扁平化，像剪纸画一样。背景会变得巨大无比。
   - 使用场景：
     * 巨大的背景：你见过那种画面吗？主角骑着摩托车，背后是一个巨大得不真实的月亮或夕阳。这就是超长焦干的。
     * 极度危险：拍摄狮子老虎，或者爆炸场面。为了摄影师的小命，我们必须离得远，用超长焦吊过去。
     * 热浪感：在《阿拉伯的劳伦斯》里，远处的人影在沙漠的热浪中扭曲，只有超长焦能捕捉到这种空气的质感。

**重要提示**：在选择 lens_focal_length 时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最合适的焦段。记住这个公式：**广角 = "我在这里，我和环境有关系。" 长焦 = "看这里，只看这里，别管其他。"** 不要做一个只会用变焦环（Zoom）偷懒的导演。如果你想拍特写，不要只是站在原地推镜头，换上85mm定焦，把机器推过去！身体的移动加上正确的焦段，那才是电影感的来源。
"""

# 相机说明（用于提示词）
CAMERA_GUIDE_TEXT = """
## 相机选择指南（重要参考）：

在选择相机时，请根据以下导演视角和创作意图来选择最合适的相机：

1. **ARRI Alexa**
   - 定义：德国阿莱公司的数字摄影机。好莱坞的绝对统治者。
   - 导演视点：这是"数字时代的胶片"。它的高光滚降（Highlight Roll-off）极其柔和，肤色还原是业界标杆。它不追求极端的锐度，而是追求"看起来舒服"。
   - 使用场景：
     * 90%的电影：从《奥斯卡获奖片》到《漫威》，只要你想要那种"这就是电影"的高级质感，选它准没错。
     * 重视肤色：拍美女，拍情绪，Alexa会让演员的皮肤看起来自然通透。

2. **ARRI Alexa 65**
   - 定义：Alexa的巨无霸版本，65mm大画幅数字摄影机。
   - 导演视点：这是"史诗的注脚"。传感器比普通电影机大得多。它能带来极浅的景深和极其细腻的画质。
   - 使用场景：
     * 宏大叙事：《荒野猎人》、《复仇者联盟3》。当你需要画面极其壮阔，或者在广角镜头下依然想要背景虚化时。
     * 预算充足：这玩意儿租金死贵，数据量大得惊人。

3. **Arriflex 416**
   - 定义：超16mm胶片摄影机。
   - 导演视点：这是"粗粝的诗意"。它的画面有明显的颗粒感（Grain），分辨率不高，但有一种迷人的、怀旧的、独立的质感。
   - 使用场景：
     * 复古/独立电影：《卡罗尔》、《黑天鹅》。
     * 梦境与回忆：颗粒感能模糊现实与幻想的界限。
     * 纪实感：它的轻便让手持拍摄充满活力。

4. **IMAX 70mm**
   - 定义：胶片摄影的终极圣杯。分辨率相当于数字的18K以上。
   - 导演视点：这是"诺兰的信仰"。巨大的画幅，正方形构图（1.43:1），极致的清晰度。这种机器像冰箱一样大，像拖拉机一样响，但拍出来的画面能把观众吸进去。
   - 使用场景：
     * 奇观：《星际穿越》、《奥本海默》。
     * 沉浸式体验：当你想让观众觉得屏幕消失了，他们就站在场景里。

5. **Kodak Portra 400**
   - 注意：这主要是民用/专业静态胶卷，但在AI和调色中代表一种风格。
   - 导演视点：这是"温暖的午后"。它的特点是极其优秀的肤色表现，偏暖的色调，柔和的反差。
   - 使用场景：
     * 文艺片/生活流：表现美好的回忆、夏天、青春。
     * 人像摄影感：想要那种"高级杂志大片"的质感。

6. **Kodak Vision3 500T**
   - 定义：现代好莱坞最常用的电影胶片（T代表Tungsten，灯光型）。
   - 导演视点：这是"工业的标准"。昆汀、诺兰用的就是这个。它的宽容度极高，高光不溢出，暗部有细节。
   - 使用场景：
     * 夜景与室内：500感光度适合暗光环境。
     * 纯正电影感：想要那种厚重的、有机的色彩，而不是数码的"塑料感"。

7. **Panavision Panaflex**
   - 定义：帕纳维申35mm胶片机。好莱坞黄金时代的象征。
   - 导演视点：这是"传奇的载体"。斯皮尔伯格早期电影的味道。它代表着传统的35mm胶片美学。
   - 使用场景：
     * 经典叙事：想要那种80、90年代大片的扎实感。

8. **RED Monstro 8K**
   - 定义：RED公司的旗舰，全画幅8K分辨率。
   - 导演视点：这是"手术刀"。大卫·芬奇的最爱。它的画面极其锐利、干净、冷峻。数据量巨大，方便后期裁切和特效合成。
   - 使用场景：
     * 科幻/惊悚：《消失的爱人》、《社交网络》。
     * 特效大片：需要极高分辨率来做后期CG合成。
     * 冷酷风格：想要一种现代、精密、甚至有点无情的视觉风格。

9. **Sony Venice (索尼威尼斯)**
   - 定义：索尼的全画幅数字电影机。
   - 导演视点：这是"夜视仪"。它的双原生ISO让它在极暗的环境下也能拍出干净的画面。色彩科学非常现代，偏中性。
   - 使用场景：
     * 极端光照：《壮志凌云2》。
     * 灵活拍摄：它的传感器部分可以拆下来（Rialto系统），塞进狭小的战斗机座舱或车内。

10. **Cinestill 800T**
    - 定义：把电影胶片（Vision3 500T）去掉了碳层，改装成民用胶卷。
    - 导演视点：这是"赛博朋克的霓虹"。它最大的特点是Halation（红光溢出）——高光周围会有一圈红色的光晕。
    - 使用场景：
      * 霓虹夜景：拍摄加油站、便利店、城市夜景。
      * 迷幻风格：《亢奋》（Euphoria）那种迷乱、潮湿、光怪陆离的氛围。

**重要提示**：在选择相机时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最合适的相机。记住：想要经典、柔和、像人眼？选 ARRI Alexa。想要锐利、冷峻、高科技？选 RED。想要怀旧、颗粒、质感？选 16mm (Arriflex 416)。想要震撼、宏大、信仰？选 IMAX。想要特殊的色彩氛围？在提示词里加上 Kodak Portra（暖/日系）或 Cinestill（冷/霓虹）。
"""

# 镜头说明（用于提示词）
LENS_GUIDE_TEXT = """
## 镜头选择指南（重要参考）：

在选择镜头时，请根据以下导演视角和创作意图来选择最合适的镜头：

1. **ARRI Master Primes**
   - 定义：德国蔡司和阿莱合作的巅峰之作。现代电影工业的绝对王者。
   - 导演视点：这是"光学完美的极致"。它拥有惊人的T1.3大光圈，而且无论光圈开多大，画面从中心到边缘都锐利得像刀锋一样。它几乎没有呼吸效应（调焦时画面不会缩放），没有畸变。
   - 使用场景：
     * 现代大片：《荒野猎人》（部分）、《007》。
     * 追求极致清晰：当你需要画面极其干净、通透，没有任何光学瑕疵干扰观众时。
     * 暗光环境：它的超大光圈能把黑夜拍得像白昼。

2. **ARRI Master Prime Macro**
   - 定义：Master Prime系列的微距版。
   - 导演视点：这是"显微镜"。它能贴得非常非常近，去拍摄那些肉眼容易忽略的细节。
   - 使用场景：
     * 极端特写 (Extreme Close-up)：拍摄瞳孔的纹理、昆虫的绒毛、手表内部的齿轮。
     * 抽象质感：把普通的物体拍出陌生的纹理感。

3. **Canon K35**
   - 定义：70-80年代的佳能电影镜头。现在的当红炸子鸡。
   - 导演视点：这是"复古的梦境"。它虽然老，但光圈很大。它的特点是反差较低，高光会有一种"圣光溢出"（Glow）的感觉，肤色表现非常柔美。它不完美，但美得让人心醉。
   - 使用场景：
     * 情感与回忆：《她》（Her）、《新蝙蝠侠》（The Batman）。
     * 唯美主义：想要画面看起来不那么"数码味"，带有一种胶片的温润感和梦幻感。

4. **Cooke Anamorphic (库克变形宽银幕)**
   - 定义：著名的"库克看"（The Cooke Look）。变形镜头（Anamorphic）意味着它能拍出宽银幕画面，背景光斑是椭圆形的。
   - 导演视点：这是"英伦绅士的温暖"。库克镜头以"对肤色极度友好"著称，画面锐利但柔和，反差适中，带有一种独特的暖调。它的焦外（虚化部分）像奶油一样化开。
   - 使用场景：
     * 古典与剧情：任何重视人物情感、需要画面看起来"高级"且"有人情味"的电影。
     * 特殊的眩光：它的横向拉丝眩光通常比较克制，不像Panavision那么张扬。

5. **Helios 44-2**
   - 定义：苏联时期的老镜头，便宜，但有个性。
   - 导演视点：这是"旋转的漩涡"。这颗镜头最大的特点是旋焦（Swirly Bokeh）——背景的虚化不是平的，而是像漩涡一样围着中心转。
   - 使用场景：
     * 迷幻与混乱：表现角色喝醉了、中毒了，或者进入了一个奇异的魔法世界。
     * 独立电影风格：这种粗糙的、不完美的画质，反而有一种独特的艺术感。

6. **Panavision C-Series Anamorphic**
   - 定义：帕纳维申C系列变形镜头。好莱坞70-80年代的标志。
   - 导演视点：这是"科幻与史诗的图腾"。你一定见过那种蓝色的横向拉丝眩光（JJ Abrams最爱用的那种），那就是它的标志。它有明显的桶形畸变，画面边缘会变软。
   - 使用场景：
     * 经典科幻/动作：《星球大战》、《银翼杀手》。
     * 怀旧大片：只要这颗镜头一上，那个蓝色的光晕一出来，观众就会觉得："哦，我在看一部好莱坞大片。"

7. **Petzval Lens (皮兹瓦镜头)**
   - 定义：源自19世纪的古老光学设计。
   - 导演视点：这是"时光隧道"。它的中心极其锐利，但周围的画面会极速模糊并旋转，形成一种强烈的隧道效应。
   - 使用场景：
     * 复古肖像：拍出19世纪老照片的感觉。
     * 超现实主义：这种极端的视觉效果能让画面看起来像是在梦中，或者通过某种窥视孔在观察。

**重要提示**：在选择镜头时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最合适的镜头。记住老杰克的选镜指南：要现代、完美、干净？ -> ARRI Master Primes。要温暖、人像好看、电影感？ -> Cooke Anamorphic。要复古、柔光、情绪化？ -> Canon K35。要科幻、蓝色眩光、大片感？ -> Panavision C-Series。要怪诞、旋转、艺术感？ -> Helios 44-2 或 Petzval。记住，年轻人，清晰度不是一切。有时候，一点点模糊、一点点畸变、一点点眩光，才是让观众爱上你画面的原因。这就是"味道"。
"""

# 光圈说明（用于提示词）
APERTURE_GUIDE_TEXT = """
## 光圈选择指南（重要参考）：

在选择光圈时，请根据以下导演视角和创作意图来选择最合适的光圈：

1. **f/1.2 - f/1.4 (超大光圈)**
   - 定义：进光量巨大，景深极浅。
   - 导演视点：这是"梦幻与孤独"。在这个档位下，只有薄薄的一层是清晰的（比如只有睫毛是清楚的，耳朵都虚了）。背景会彻底化开，变成奶油般的色块。
   - 使用场景：
     * 跟焦员的噩梦：演员稍微动一下就虚了，但为了那种美，值得。
     * 极度隔离：当你想让全世界都消失，只剩下男女主角深情对视时。
     * 夜景之王：在只有一根蜡烛或者霓虹灯微光的夜晚，你需要这么大的光圈才能拍到东西。
     * AI关键词效果：产生极致的Bokeh（散景），背景完全模糊。

2. **f/1.8 - f/2.0 (大光圈)**
   - 定义：依然很大，但比1.4稍微理智一点。
   - 导演视点：这是"唯美肖像"的标准。它能很好地把人物从背景中"抠"出来，立体感很强，但又不会像f/1.2那样虚得连鼻子都看不清。
   - 使用场景：
     * 标准特写：绝大多数好莱坞电影的对话特写都在这个范围。
     * 柔和的氛围：适合拍摄女性角色，或者温馨、浪漫的场景。

3. **f/2.8 (标准光圈)**
   - 定义：许多顶级变焦镜头（Zoom Lens）的最大光圈。
   - 导演视点：这是"工作马"。它在虚化和清晰之间找到了完美的平衡。背景有分离感，但观众依然能看清背景里大概有什么东西。
   - 使用场景：
     * 最安全的电影感：既不至于虚得太假，又保留了电影的高级感。
     * 全身/半身镜头：拍两个人走在一起，或者半身像时，这个光圈能保证两个人都在焦内。

4. **f/4.0 - f/5.6 (中等光圈)**
   - 定义：进光量适中，景深较深。
   - 导演视点：这是"动作与叙事"。在这个光圈下，背景不再是一团模糊的雾，而是能看清轮廓和细节。
   - 使用场景：
     * 动作片：杰森·伯恩在打架，或者成龙在跳楼。如果光圈太大，人一动就出焦了。用f/4或f/5.6，能确保动作清晰锐利。
     * 交代环境：你想让观众看到主角身后的那栋大楼，或者街上的行人。
     * 黑色电影（Film Noir）：往往需要更深的景深来展现阴影和环境的压抑。

5. **f/8.0 - f/11 (小光圈)**
   - 定义：像针孔一样小，进光量少，但景深极大。
   - 导演视点：这是"深焦（Deep Focus）"。从前景的茶杯到几公里外的山，全都是清晰的。
   - 使用场景：
     * 宏大风景：拍《指环王》的新西兰风光，你希望每一片树叶都锐利。
     * 复杂的场面调度：就像奥逊·威尔斯的《公民凯恩》。前景有人在说话，后景有人在进门，你希望观众同时看清这两个地方发生的事情。
     * 强烈的阳光下：光线太强了，必须缩小光圈防止过曝。

**重要提示**：在选择光圈时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最合适的光圈。记住老杰克的"光圈哲学"：想搞暧昧、搞情绪、搞梦境？ -> f/1.2 ~ f/1.8 （背景？什么背景？我眼里只有你。）想讲故事、拍对话、拍生活？ -> f/2.8 ~ f/4.0 （我看清你了，也知道你在哪。）想拍大场面、拍动作、拍风景？ -> f/8 ~ f/11 （世界如此清晰，一切尽收眼底。）别总以为虚化就是高级。有时候，看清现实（f/11）比活在梦里（f/1.2）更有力量。
"""

**重要提示**：在选择 shot_size 时，请仔细考虑每个分镜头的情绪、氛围和叙事需求，根据上述指南选择最合适的景别。记住老杰克的剪辑台建议：电影的节奏，往往就是景别的呼吸。从大远景开始（我们在哪？），切到全景（那是谁？），推到中景（他在干嘛？），最后推到特写（他在想什么？）。或者，你可以反其道而行之，先给一个大特写（一只睁开的眼睛），让观众困惑，然后再拉开。在AI绘画里，如果你不指定景别，AI通常会给你一个无聊的中景。所以，一定要告诉它你站得多远！
"""